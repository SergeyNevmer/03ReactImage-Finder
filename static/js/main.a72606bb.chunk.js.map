{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/LoadMore/LoadMore.module.css","components/ImageGallery/ImageGallery.module.css","services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/LoadMore/LoadMore.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","refs","FetchImages","searchQuery","page","axios","get","then","response","data","hits","Searcbar","handleSubmit","event","a","preventDefault","props","value","images","onSubmit","className","styles","Searchbar","SearchForm","this","type","SearchFormBtn","SearchFormBtnLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","src","bigSrc","alt","ImageGalleryItemImage","Modal","onClick","Overlay","ImageGallery","state","isOpen","currentTargetUrl","handleOpen","e","target","currentTarget","hasAttribute","setState","url","dataset","largeurl","handleClose","onKeyPressed","key","window","addEventListener","removeEventListener","map","image","webformatURL","largeImageURL","id","LoadMore","handleClickLoadMore","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","wrapper","Button","App","valueFromInput","handleChange","onLoadMore","arr","onGetNewImages","newImages","length","root","getElementById","ReactDom","render"],"mappings":"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","file":"static/js/main.a72606bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2SXyu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3UzI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Arxg\",\"Modal\":\"Modal_Modal__21RVT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMore_Button__1411G\",\"wrapper\":\"LoadMore_wrapper__2Yml0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3ETRr\"};","import axios from \"axios\";\r\n\r\nconst refs = {\r\n  baseUrl: \"https://pixabay.com/api/\",\r\n  key: \"21992403-2602b5d506ba3879747240055\",\r\n};\r\n\r\nconst FetchImages = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `${refs.baseUrl}?q=${searchQuery}&page=${page}&key=${refs.key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default FetchImages;\r\n","import React from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport FetchImages from \"../../services/imagesApi\";\r\n\r\nexport default class Searcbar extends React.Component {\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    await FetchImages(this.props.value).then((images) =>\r\n      this.props.onSubmit(images)\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormBtn}>\r\n            <span className={styles.SearchFormBtnLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.props.value}\r\n            onChange={this.props.onChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearcbar.propTypes = {\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ src, bigSrc }) => (\r\n  <li className={styles.ImageGalleryItem}>\r\n    <img\r\n      src={src}\r\n      alt=\"\"\r\n      data-largeurl={bigSrc}\r\n      className={styles.ImageGalleryItemImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  bigSrc: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Modal = ({ src, onClick }) => (\r\n  <div className={styles.Overlay} onClick={onClick}>\r\n    <div className={styles.Modal}>\r\n      <img src={src} alt=\"\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class ImageGallery extends React.Component {\r\n  state = {\r\n    isOpen: false,\r\n    currentTargetUrl: \"\",\r\n  };\r\n\r\n  handleOpen = (e) => {\r\n    if (e.target === e.currentTarget) return;\r\n\r\n    if (e.target.hasAttribute(\"data-largeurl\")) {\r\n      this.setState({ isOpen: true });\r\n      let url = e.target.dataset.largeurl;\r\n      this.setState({ currentTargetUrl: url });\r\n    }\r\n  };\r\n\r\n  handleClose = (e) => {\r\n    if (e.target.hasAttribute(\"class\")) {\r\n      this.setState({ isOpen: false });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyPressed);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyPressed);\r\n  }\r\n\r\n  onKeyPressed = (e) => {\r\n    if (e.key === \"Escape\") {\r\n      this.setState({ isOpen: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n    const { isOpen, currentTargetUrl } = this.state;\r\n    return (\r\n      <ul className={styles.ImageGallery} onClick={this.handleOpen}>\r\n        {images.map((image) => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            src={image.webformatURL}\r\n            bigSrc={image.largeImageURL}\r\n          />\r\n        ))}\r\n        {isOpen && <Modal src={currentTargetUrl} onClick={this.handleClose} />}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n};\r\n","import React from \"react\";\r\nimport FetchImages from \"../../services/imagesApi\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./LoadMore.module.css\";\r\n\r\nexport default class LoadMore extends React.Component {\r\n  state = {\r\n    page: 2,\r\n  };\r\n\r\n  handleClickLoadMore = async () => {\r\n    const { page } = this.state;\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n\r\n    await FetchImages(this.props.value, page).then((images) => {\r\n      this.props.onClick(images);\r\n    });\r\n\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <button\r\n          className={styles.Button}\r\n          type=\"button\"\r\n          onClick={this.handleClickLoadMore}\r\n        >\r\n          Load More\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLoadMore.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport Searcbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport LoadMore from \"../LoadMore/LoadMore\";\r\n\r\nexport default class App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    valueFromInput: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const value = e.target.value;\r\n    this.setState({ valueFromInput: value });\r\n  };\r\n\r\n  onLoadMore = (arr) => {\r\n    this.setState((prevState) => ({\r\n      images: [...prevState.images, ...arr],\r\n    }));\r\n  };\r\n\r\n  onGetNewImages = (newImages) => {\r\n    this.setState({\r\n      images: [],\r\n    });\r\n    this.setState((prevState) => ({\r\n      images: [...prevState.images, ...newImages],\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { valueFromInput, images } = this.state;\r\n    return (\r\n      <>\r\n        <Searcbar\r\n          value={valueFromInput}\r\n          onChange={this.handleChange}\r\n          onSubmit={this.onGetNewImages}\r\n        />\r\n        <ImageGallery images={images} />\r\n        {images.length > 0 && (\r\n          <LoadMore value={valueFromInput} onClick={this.onLoadMore} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import ReactDom from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./index.css\";\n\nconst root = document.getElementById(\"root\");\n\nReactDom.render(<App />, root);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3fGXr\",\"SearchForm\":\"Searchbar_SearchForm__2i1c3\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__1z6pt\",\"SearchFormBtnLabel\":\"Searchbar_SearchFormBtnLabel__3mnBV\",\"SearchFormInput\":\"Searchbar_SearchFormInput__vAorm\"};"],"sourceRoot":""}